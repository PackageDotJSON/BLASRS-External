const DB_QUERIES = {
  FETCH_SUBMISSIONS: `SELECT BLASRS_DATA_SUBMITTER2.COMPANY_NAME, BLASRS_DATA_SUBMITTER2.UPLOAD_ID, 
  BLASRS_DATA_SUBMITTER2.SUBMITTED_WHEN, BLASRS_DATA_SUBMITTER2.PERIOD_ENDED,  BLASRS_FLAG.IS_EMPTY_FLAG
  FROM CRS.BLASRS_DATA_SUBMITTER2 
  INNER JOIN CRS.BLASRS_FLAG ON BLASRS_DATA_SUBMITTER2.UPLOAD_ID = BLASRS_FLAG.UPLOAD_ID
  WHERE BLASRS_DATA_SUBMITTER2.USER_ID_FK =:valueCnic AND BLASRS_DATA_SUBMITTER2.COMPANY_INCNO =:valueCuin 
  ORDER BY BLASRS_DATA_SUBMITTER2.SUBMITTED_WHEN DESC`,
  AUTH_USER: `SELECT USER_COMPANY.SIGNATORY_ALLOWED, USER_COMPANY.COMPANY_ID, USER_COMPANY.COMPANY_NAME FROM 
  ESUSER.USER_COMPANY INNER JOIN ESUSER.USER_PIN_HISTORY ON 
  USER_COMPANY.USER_ID_FK = USER_PIN_HISTORY.USER_ID_FK WHERE USER_COMPANY.USER_ID_FK = ? AND 
  USER_COMPANY.COMPANY_INCNO = ? AND USER_PIN_HISTORY.USER_PIN = ?`,
  GET_PERIOD_ENDED_DATE: `SELECT TO_CHAR(MAX(ADD_MONTHS(TO_DATE((PERIOD_ENDED) ,'DD/MM/YYYY'), 1)),  'DD/MM/YYYY') 
  FROM CRS.BLASRS_DATA_SUBMITTER2 WHERE COMPANY_INCNO = :companyIncno`,
  INSERT_FILE: `INSERT INTO CRS.BLASRS_DATA_SUBMITTER2(ROW_ID, USER_ID_FK, USER_PIN, RECORD_TYPE, COMPANY_ID, COMPANY_NAME, 
  COMPANY_INCNO, SUBMITTED_BY, UPLOAD_ID, RECORD_COUNT, PERIOD_ENDED, UPLOAD_FILE) VALUES (BLASRS_DATA_SUBMITTER2_SEQ.nextval, 
  :userId, :userPin, :recordType, :companyId, :companyName, :companyIncno, :submittedBy, BLASRS_DATA_SUBMITTER2_SEQ.nextval, 
  :recordCountNum, :periodEnded, :blobData) RETURNING UPLOAD_ID INTO :uploadId`,
  INSERT_FILE_DATA: `INSERT INTO CRS.BLASRS_DATA2(ROW_ID, USER_ID_FK, COMPANY_ID, COMPANY_NAME, COMPANY_INCNO, INPUT_SOURCE, 
  CREATED_BY, DATA_COMPLETE, UPLOAD_ID, DESCRIPTION, DEBIT_AMOUNT, CREDIT_AMOUNT, SECONDARY_CODES) VALUES 
  (BLASRS_DATA2_SEQ.nextval, :userId, :companyId, :companyName, :companyIncno, 'Excel', :createdBy, 'Submitted', 
  :uploadId, :description, :debitAmount, :creditAmount, :secondaryCodes)`,
  INSERT_FLAG_DATA: `INSERT INTO CRS.BLASRS_FLAG(UPLOAD_ID, IS_EMPTY_FLAG) VALUES(:uploadId, :isEmptyFlag)`,
  GET_FILE: `SELECT UPLOAD_FILE FROM CRS.BLASRS_DATA_SUBMITTER2 WHERE UPLOAD_ID = :uploadId`,
  INSERT_LOG: `INSERT INTO CRS.BLASRS_LOGGING(ID, IP_ADDRESS, BROKER_CUIN) VALUES (BLASRS_LOGGING_SEQ.nextval, :userIp, :brokerCuin)`,
  DATA_TRANSFORMATION_DEBIT_AMOUNT: `UPDATE BLASRS_DATA2
  SET DEBIT_AMOUNT = (DEBIT_AMOUNT) * -1
  WHERE SECONDARY_CODES IN (SELECT SECONDARY_CODES
  FROM BLASRS_SECONDARY_CODES_NATURE2
  WHERE NATURE = 'Credit')
  AND UPLOAD_ID = :uploadId`,
  DATA_TRANSFORMATION_CREDIT_AMOUNT: `UPDATE BLASRS_DATA2
  SET CREDIT_AMOUNT = (CREDIT_AMOUNT) * -1
  WHERE SECONDARY_CODES IN (SELECT SECONDARY_CODES
  FROM BLASRS_SECONDARY_CODES_NATURE2
  WHERE NATURE = 'Debit')
  AND UPLOAD_ID = :uploadId`,
};

module.exports = DB_QUERIES;
